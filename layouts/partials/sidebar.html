{{- /* Calendar widget */ -}}
{{ if not .Site.Params.disable_calendar }}
<div class="sidetitle">Calendar</div>
{{ partial "calendar-nav.html" . }}
{{ end }}

{{ with .Site.Params.sidebar_links }}
<nav aria-label="Main links">
<div class="sidetitle">Links</div>
<ul class="side">
  {{ range . }}
  <li><a href="{{ .url }}">{{ .name }}</a></li>
  {{ end }}
</ul>
</nav>
{{ end }}

<nav aria-label="Recent posts">
<div class="sidetitle">Recent entries</div>
<ul class="side">
  {{ range first 10 (where .Site.RegularPages "Type" "in" .Site.Params.mainSections) }}
  <li><a href="{{ .RelPermalink }}">{{ .Title }}</a></li>
  {{ end }}
</ul>
</nav>

{{ $taxonomies := .Site.Taxonomies.categories }}
{{ if gt (len $taxonomies) 0 }}
<nav aria-label="Post categories">
<div class="sidetitle">Categories</div>
<ul class="side">
  {{ range $name, $taxonomy := $taxonomies }}
  <li><a href="{{ "/categories/" | relURL }}{{ $name | urlize }}/">{{ $name }}</a> ({{ len $taxonomy }})</li>
  {{ end }}
</ul>
</nav>
{{ end }}

<nav aria-label="Post archives">
<div class="sidetitle">Archives</div>
<ul class="side">
  <li><a href="{{ "/archives/" | relURL }}">Archive Index</a></li>
  {{- $years := .Site.Taxonomies.years -}}
  {{- range $yearName, $yearPages := $years -}}
  <li><a href="{{ "/years/" | relURL }}{{ $yearName | urlize }}/">{{ $yearName }}</a> ({{ len $yearPages }})</li>
  {{- end -}}
</ul>
</nav>

<div class="sidetitle"></div>
<div class="syndicate">
  Site 
  {{ with .OutputFormats.Get "RSS" }}
  (<a href="{{ .RelPermalink }}" class="feed-small">RSS</a>)
  {{ end }}
  <br />
</div>

<div class="theme-toggle-container">
  <div class="sidetitle">Theme</div>
  <div class="theme-selector">
    <label class="theme-option">
      <input type="radio" name="theme" value="light" />
      Light
    </label>
    <label class="theme-option">
      <input type="radio" name="theme" value="dark" />
      Dark
    </label>
  </div>
</div>

{{ with .Site.Params.contact }}
<div class="sidetitle">Contact</div>
<div class="side contact-email">
  <a href="mailto:{{ . }}">{{ . }}</a>
</div>
{{ end }}

{{ with .Site.Params.footer_text }}
<footer class="powered">
  {{ . | markdownify }}
</footer>
{{ end }}
